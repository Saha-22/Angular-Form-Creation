
<h2 class="text-xl font-bold">Employee Profile</h2>

<br>

<form class="grid grid-cols-4 gap-x-8 gap-y-4" [formGroup]="employeeInfo" >
  
    <div>
        <div>
          <label class="block text-sm font-medium text-gray-700" for="emplId">
            Employee ID: <span class="text-red-500">*</span>
          </label>
        </div>
        <div>
          <input class="mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm" id="emplId"   formControlName="emplId">
        </div>
        <div *ngIf="employeeInfo.get('emplId')?.hasError('required') && employeeInfo.get('emplId')?.touched">
          <span class="text-red-500 text-sm">Required Field!</span>
      </div>
      <div *ngIf="employeeInfo.get('emplId')?.hasError('pattern') && employeeInfo.get('emplId')?.touched">
        <span class="text-red-500 text-sm">Only Number!</span>
    </div>
    </div>

    <div>
      <div>
        <label class="block text-sm font-medium text-gray-700" for="employeeName">
          Name: <span class="text-red-500">*</span>
        </label>
      </div>
      <div>
        <input class="mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm" id="employeeName"   formControlName="employeeName" >
      </div>
      <div *ngIf="employeeInfo.get('employeeName')?.hasError('required') && employeeInfo.get('employeeName')?.touched">
        <span class="text-red-500 text-sm">Required Field!</span>
      </div>
    </div>

    

    <div>
      <div>
        <label class="block text-sm font-medium text-gray-700" for="dateOfBirth">
          Date of birth:    <span class="text-red-500">*</span>
        </label>
      </div>
      <div>
        <input type="date" class="mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm" id="dateOfBirth"   formControlName="dateOfBirth" (change)="calculateAge()">
      </div>
      <div *ngIf="employeeInfo.get('dateOfBirth')?.hasError('required') && employeeInfo.get('dateOfBirth')?.touched">
        <span class="text-red-500 text-sm">Required Field!</span>
      </div>
    </div>

    <div>
      <div>
        <label class="block text-sm font-medium text-gray-700" for="age">
          Age:   
        </label>
      </div>
      <div>
        <input class="mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm" id="age"   formControlName="age" type="number">
      </div>
    </div>

    <div>
      <div>
        <label class="block text-sm font-medium text-gray-700" for="phoneNumber">
          Phone:   <span class="text-red-500">*</span>
        </label>
      </div>
      <div>
        <input class="mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm" id="phoneNumber"   formControlName="phoneNumber" required>
      </div>
      <div *ngIf="employeeInfo.get('phoneNumber')?.hasError('required') && employeeInfo.get('phoneNumber')?.touched">
        <span class="text-red-500 text-sm">Required Field! </span>
      </div>
      <div *ngIf="employeeInfo.get('phoneNumber')?.hasError('pattern') && employeeInfo.get('phoneNumber')?.touched">
        <span class="text-red-500 text-sm"> Use phone number valid only in Bangladesh</span>
      </div>
      
    </div>

    <div>
      <div>
        <label class="block text-sm font-medium text-gray-700" for="gender">
          Gender:   
        </label>
      </div>
      <div>
        <select class="mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm" id="gender"   formControlName="gender">
              <option value="">Select Gender</option>
      <option value="Male">Male</option>
      <option value="Female">Female</option>
      <option value="Others">Others</option>
        </select>
      </div>
    </div>

    <div>
      <div>
        <label class="block text-sm font-medium text-gray-700" for="blood">
          Blood Group:   
        </label>
      </div>
      <div>
        <select class="mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm" id="blood"   formControlName="blood">
              <option value="">Select Group</option>
      <option value="A +ve">A +ve</option>
      <option value="A -ve">A -ve</option>
      <option value="B +ve">B +ve</option>
      <option value="B -ve">B -ve</option>
      <option value="O +ve">O +ve</option>
      <option value="O -ve">O -ve</option>
      <option value="AB +ve">AB +ve</option>
      <option value="AB -ve">AB -ve</option>
        </select>
      </div>
    </div>

    <div>
      <div>
        <label class="block text-sm font-medium text-gray-700" for="photo">
          Upload Image:   
        </label>
      </div>
      <div>
        <input class="mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm" type="file" (change)="onFileSelected($event)">
      </div>
      
      <div *ngIf="selectedImage">
        <p>Preview:</p>
        <img [src]="selectedImage" alt="Uploaded Photo" class="w-32 h-32 border rounded-md">
      </div>
      
    </div>
      

</form>

<br>

<h2 class="text-xl font-bold">Experience</h2>

<br>

<form class="grid grid-cols-4 gap-x-8 gap-y-4"  [formGroup]="employeeEducationInfo" >
  
    <div>
        <div>
          <label class="block text-sm font-medium text-gray-700" for="organization">
            Organization: <span class="text-red-500">*</span>
          </label>
        </div>
        <div>
          <input class="mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm" id="organization"   formControlName="organization" >
        </div>
        <div *ngIf="employeeEducationInfo.get('organization')?.hasError('required') && employeeEducationInfo.get('organization')?.touched">
          <span class="text-red-500 text-sm">Required Field!</span>
        </div>
      </div>

      <div>
        <div>
          <label class="block text-sm font-medium text-gray-700" for="jobTitle">
            Job Title:
          </label>
        </div>
        <div>
          <input class="mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm" id="jobTitle"  formControlName="jobTitle" required>
        </div>
      </div>

      <div>
        <div>
          <label class="block text-sm font-medium text-gray-700" for="joiningDate">
            Joining Date:
          </label>
        </div>
        <div>
          <input type="date" class="mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm" id="joiningDate"  formControlName="joiningDate" required>
        </div>
      </div>

      <div>
        <div>
          <label class="block text-sm font-medium text-gray-700" for="lastWorkingDate">
            Last Working Date:
          </label>
        </div>
        <div>
          <input type="date" class="mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm" id="lastWorkingDate"  formControlName="lastWorkingDate" required>
        </div>
      </div>

      <div>
        <div>
          <label class="block text-sm font-medium text-gray-700" for="reportTo">
            Report To:
          </label>
        </div>
        <div>
          <input class="mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm" id="reportTo"  formControlName="reportTo">
        </div>
      </div>

      <div>
        <div>
          <label class="block text-sm font-medium text-gray-700" for="designation">
            Designation:
          </label>
        </div>
        <div>
          <input class="mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm" id="designation"  formControlName="designation">
        </div>
      </div>

      <div>
        <div>
          <label class="block text-sm font-medium text-gray-700" for="salary">
            Salary:
          </label>
        </div>
        <div>
          <input class="mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm" id="salary"  formControlName="salary">
        </div>
      </div>

      <div>
        <div>
          <label class="block text-sm font-medium text-gray-700" for="hrName">
            Head of HR Name:
          </label>
        </div>
        <div>
          <input class="mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm" id="hrName" formControlName="hrName" required>
        </div>
      </div>

      <div>
        <div>
          <label class="block text-sm font-medium text-gray-700" for="numberEmployees">
            Total Number of Employees:
          </label>
        </div>
        <div>
          <input class="mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm" id="numberEmployees"  formControlName="numberEmployees" required>
        </div>
      </div>
      
      <div>
        <div>
          <label class="block text-sm font-medium text-gray-700" for="significantAchievements">
            Significant Achievements:
          </label>
        </div>
        <div>
          <textarea class="mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm" id="significantAchievements" formControlName="significantAchievements" > </textarea>
        </div>
    </div>

    <div>
      <div>
        <label class="block text-sm font-medium text-gray-700" for="otherBenefits">
          Other Benefits:
        </label>
      </div>
      <div>
        <textarea class="mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm" id="otherBenefits" formControlName="otherBenefits" > </textarea>
      </div>
  </div>

      <div></div>

      <div>
      <button *ngIf="!editModeEdu" class="w-35 h-10 text-white bg-green-700 hover:bg-green-800 focus:ring-4 focus:ring-green-300 font-medium rounded-lg text-sm px-4 py-1.5 dark:bg-green-600 dark:hover:bg-green-700 focus:outline-none dark:focus:ring-green-800" type="submit" (click)="addEducation()">Add</button>

      
      <button *ngIf="editModeEdu" type="button" (click)="updateEducation()" class="text-white bg-yellow-700 hover:bg-yellow-800 focus:ring-4 focus:ring-yellow-300 font-medium rounded-lg text-sm px-5 py-2.5 me-2 mb-2 dark:bg-yellow-600 dark:hover:bg-yellow-700 focus:outline-none dark:focus:ring-yellow-800">Update</button> 
      </div>
</form>


<br>

<div class="relative overflow-x-auto" *ngIf="employeeEducationList.length > 0">
<h3 class="text-xl font-bold">Experience List</h3>

<br>
<div class="relative overflow-x-auto"></div>

<table class="w-full text-sm text-left rtl:text-right text-gray-500 dark:text-gray-400">
  <thead class="text-xs text-gray-700 uppercase bg-gray-50 dark:bg-gray-700 dark:text-gray-400"> 
    <tr>

      <th scope="col" class="px-6 py-3">Organization</th>
      <th scope="col" class="px-6 py-3">Job Title</th>
      <th scope="col" class="px-6 py-3">Joining Date</th>
      <th scope="col" class="px-6 py-3">Last Working Date</th>
      <th scope="col" class="px-6 py-3">Report To</th>
      <th scope="col" class="px-6 py-3">Designation</th>
      <th scope="col" class="px-6 py-3">Salary</th>
      <th scope="col" class="px-6 py-3">Head of HR Name</th>
      <th scope="col" class="px-6 py-3">Total Number of Employees</th>
      <th scope="col" class="px-6 py-3">Significant Achievements</th>
      <th scope="col" class="px-6 py-3">Other Benefits</th>
    </tr>
  </thead>

  <tbody *ngFor="let edu of employeeEducationList; let i = index">

    <tr class="bg-white border-b dark:bg-gray-800 dark:border-gray-700 border-gray-200">

      <td class="px-6 py-4">{{edu.organization}}</td>
      <td class="px-6 py-4">{{edu.jobTitle}}</td>
      <td class="px-6 py-4">{{edu.joiningDate}}</td>
      <td class="px-6 py-4">{{edu.lastWorkingDate}}</td>
      <td class="px-6 py-4">{{edu.reportTo}}</td>
      <td class="px-6 py-4">{{edu.designation}}</td>
      <td class="px-6 py-4">{{edu.salary}}</td>
      <td class="px-6 py-4">{{edu.hrName}}</td>
      <td class="px-6 py-4">{{edu.numberEmployees}}</td>
      <td class="px-6 py-4">{{edu.significantAchievements}}</td>
      <td class="px-6 py-4">{{edu.otherBenefits}}</td>
      <td>
        <button type="button"  class="text-white bg-yellow-700 hover:bg-yellow-800 focus:ring-4 focus:ring-yellow-300 font-medium rounded-lg text-sm px-5 py-2.5 me-2 mb-2 dark:bg-yellow-600 dark:hover:bg-yellow-700 focus:outline-none dark:focus:ring-yellow-800" (click)="editEducation(i)">Edit</button>
        
        
        
        
        <button class="w-25 h-10  text-white bg-red-700 hover:bg-red-800 focus:ring-4 focus:ring-red-300 font-medium rounded-lg text-sm px-5 py-2.5 me-2 mb-2 dark:bg-red-600 dark:hover:bg-red-700 focus:outline-none dark:focus:ring-red-800"(click)="removeEducation(i)" >Delete</button>
        
      </td>
    </tr>
  
  </tbody>
</table>
</div>


<button 
  *ngIf="!editModeInfoEdu" 
  class="text-white bg-green-600 hover:bg-green-700 focus:ring-4 focus:ring-green-300 font-medium rounded-lg text-sm px-5 py-2.5 me-3 mb-3 transition duration-300 shadow-md" 
  (click)="saveEmployee()" 
  type="submit">
  Save
</button>

<!-- Update Button (Blue) -->
<button 
  *ngIf="editModeInfoEdu" 
  class="text-white bg-blue-600 hover:bg-blue-700 focus:ring-4 focus:ring-blue-300 font-medium rounded-lg text-sm px-5 py-2.5 me-3 mb-3 transition duration-300 shadow-md" 
  (click)="saveEmployeeUpdate()" 
  type="submit">
  Update
</button>

<!-- New Button (Blue) -->
<button 
  type="button"  
  class="text-white bg-blue-600 hover:bg-blue-700 focus:ring-4 focus:ring-blue-300 font-medium rounded-lg text-sm px-5 py-2.5 me-3 mb-3 transition duration-300 shadow-md" 
  (click)="clearAllForms()">
  New
</button>

<!-- List Button (Pink) -->
<button 
  routerLink="/app-employee-list" 
  class="text-white bg-pink-600 hover:bg-pink-700 focus:ring-4 focus:ring-pink-300 font-medium rounded-lg text-sm px-5 py-2.5 me-3 mb-3 transition duration-300 shadow-md">
  List
</button>




        
  